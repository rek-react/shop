"use strict";function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],r=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(r[0].trim()),s.breakpoint=r[1]?r[1].trim():"767",s.place=r[2]?r[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,r){return Array.prototype.indexOf.call(r,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const r=this.mediaQueries[t],s=String.prototype.split.call(r,","),a=window.matchMedia(s[0]),i=s[1],n=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===i}));a.addListener((function(){e.mediaHandler(a,n)})),this.mediaHandler(a,n)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const r=t[e];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(let e=0;e<t.length;e++){const r=t[e];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},DynamicAdapt.prototype.moveTo=function(e,t,r){t.classList.add(this.daClassname),"last"===e||e>=r.children.length?r.insertAdjacentElement("beforeend",t):"first"!==e?r.children[e].insertAdjacentElement("beforebegin",t):r.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,r){t.classList.remove(this.daClassname),void 0!==e.children[r]?e.children[r].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const r=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(r,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();const bg=document.querySelectorAll(".bg");function checkibg(){for(let e=0;e<bg.length;e++){const t=bg[e];if(t.querySelector("img")){const e=t.querySelector("img");t.style.backgroundImage=`url(${e.getAttribute("src")})`}}}bg&&checkibg();const selects=document.querySelectorAll("#select");if(selects)for(let e=0;e<selects.length;e++){const t=selects[e],r=t.querySelectorAll("option"),s=document.createElement("div"),a=document.createElement("ul"),i=document.createElement("div");s.className="select-new",a.className="select-new__body",i.className="select-new__current",s.append(i,a),t.after(s);const n=function(e,t){let s="";for(var n=0;n<r.length;n++)if(s+='<li type="button" class="select-new__item"  title="'+r[n].text+'" data-value="'+r[n].value+'">'+r[n].text+"</li>",r[n].hasAttribute("class")){const e=r[n].getAttribute("class");i.classList.add(e),r[n].removeAttribute("class")}a.innerHTML=s,e(),t()},o=e=>{if(e.code)return"Escape"===e.code&&s.classList.remove("_show"),!1;s.classList.toggle("_show")},l=()=>{i.addEventListener("click",o),document.addEventListener("keydown",o)};function c(e){e()}n((()=>{i.textContent=a.children[0].textContent}),(()=>{const e=a.children;for(var r=0;r<e.length;r++){let a=e[r].getAttribute("data-value"),n=e[r].textContent;e[r].addEventListener("click",(()=>{s.classList.remove("_show"),i.textContent=n,t.value=a}))}})),document.addEventListener("mouseup",(e=>{s.contains(e.target)||s.classList.remove("_show")})),c(l)}const btnCloses=document.querySelectorAll("[data-close]");if(btnCloses)for(let e=0;e<btnCloses.length;e++){const t=btnCloses[e];t.addEventListener("click",(()=>{var e=t.dataset.close;document.querySelector(e).remove()}))}const textareas=document.querySelectorAll("textarea");if(textareas)for(let e=0;e<textareas.length;e++){let t=textareas[e].offsetHeight;document.addEventListener("input",(e=>{if(e.target.closest("textarea")){let r=e.target;r.style.height=t+"px",r.style.height=r.scrollHeight+"px"}}))}const swiperPage=document.querySelector(".swiper-page__body");if(swiperPage){new Swiper(swiperPage,{watchOverflow:!0,simulateTouch:!1,slidesPerGroup:1,slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,autoHeight:!0,pagination:{el:".swiper-page__pagination",clickable:!0}});const e=document.querySelectorAll(".slide-swiper__bg"),t=document.querySelectorAll(".swiper-page__pagination .swiper-pagination-bullet");for(let r=0;r<e.length;r++){const s=e[r].querySelector("img").getAttribute("src");t[r].style.backgroundImage='url("'+s+'")'}}const swiperProducts=document.querySelector(".products-swiper__body");swiperProducts&&new Swiper(swiperProducts,{watchOverflow:!0,allowTouchMove:!1,slidesPerGroup:1,slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,autoHeight:!0,pagination:{el:".products-swiper__pagination",type:"fraction"},navigation:{prevEl:".products-swiper__arrow_prev",nextEl:".products-swiper__arrow_next"}});const swiperProducts2=document.querySelector(".products-swiper__body-catalog");swiperProducts2&&new Swiper(swiperProducts2,{watchOverflow:!0,allowTouchMove:!1,slidesPerGroup:1,slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,autoHeight:!0,pagination:{el:".pagination-products__pagination",type:"bullets",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"}},navigation:{prevEl:".pagination-products__arrow_prev",nextEl:".pagination-products__arrow_next"}});const swiperBrands=document.querySelector(".brands-page__body");swiperBrands&&new Swiper(swiperBrands,{watchOverflow:!0,allowTouchMove:!1,slidesPerGroup:1,observer:!0,loop:!0,observeParents:!0,observeSlideChildren:!0,navigation:{prevEl:".brands-page__arrow_prev",nextEl:".brands-page__arrow_next"},breakpoints:{991:{slidesPerView:5},767:{slidesPerView:4},660:{slidesPerView:3},525:{slidesPerView:2},480:{slidesPerView:1}}});const swiperImageCart=document.querySelector(".images-cart__mainslider"),swiperImageCartSmall=document.querySelector(".images-cart__small");if(swiperImageCart){let e=new Swiper(swiperImageCartSmall,{watchOverflow:!0,slidesPerGroup:1,spaceBetween:12,observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{840:{slidesPerView:4},525:{slidesPerView:6},270:{slidesPerView:4}}});new Swiper(swiperImageCart,{watchOverflow:!0,slidesPerGroup:1,slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,thumbs:{swiper:e}})}const burger=document.querySelector(".burger"),nav=document.querySelector(".menu"),body=document.body;function burgerCheck(){burger.addEventListener("click",(()=>{burger.classList.toggle("_active"),nav.classList.toggle("_show"),body.classList.toggle("_lock")}))}burger&&burgerCheck();class Navside{constructor(e){const t=e.querySelector(".nav-side__hamburger"),r=e.querySelector(".nav-side__menu");this.clickBurger(t,r)}clickBurger(e,t){e.addEventListener("click",(()=>{t.classList.toggle("_show"),e.classList.toggle("_active")}))}}const navSideQuery=document.querySelector(".nav-side");navSideQuery&&new Navside(navSideQuery);const isMobile={Android:()=>navigator.userAgent.match(/Android/i),BlackBerry:()=>navigator.userAgent.match(/BlackBerry/i),IOS:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),Opera:()=>navigator.userAgent.match(/Opera Mini/i),Windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>isMobile.Android()||isMobile.BlackBerry()||isMobile.IOS()||isMobile.Opera()||isMobile.Windows()},navItemModals=document.querySelectorAll(".nav-side__item_modal-menu");if(navItemModals)for(let e=0;e<navItemModals.length;e++){const t=navItemModals[e];t.addEventListener("click",(e=>{e.preventDefault()})),isMobile.any()?t.addEventListener("click",(()=>{t.classList.toggle("_show")})):(t.addEventListener("mouseenter",(()=>{t.classList.add("_show")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("_show")})))}const searchTitle=document.querySelector(".search__title"),selected=document.querySelector(".selected");searchTitle&&searchTitle.addEventListener("click",(()=>{selected.classList.toggle("_show"),searchTitle.classList.toggle("_active")}));const categoryesCheckboxs=document.querySelectorAll(".categoryes__checkbox");if(categoryesCheckboxs){const e=document.querySelector(".search__select");for(let t=0;t<categoryesCheckboxs.length;t++){const r=categoryesCheckboxs[t];r.addEventListener("change",(()=>{r.classList.toggle("_active");const t=document.querySelectorAll(".categoryes__checkbox._active");if(t.length>0){e.classList.add("_category");const r=document.querySelector(".search__quantity");r.innerHTML=r.getAttribute("data-quantity")+t.length}else e.classList.remove("_category")}))}}var rangeFilter=document.querySelector(".filter-range");rangeFilter&&(noUiSlider.create(rangeFilter,{start:[0,1e5],connect:!0,step:1,tooltips:[wNumb({decimals:0,thousand:""}),wNumb({decimals:0,thousand:""})],range:{min:0,max:2e5}}),document.addEventListener("change",(function(e){if(e.target.closest("#price-from")){let t=e.target.closest("#price-from").value;rangeFilter.noUiSlider.set([t,null])}if(e.target.closest("#price-to")){let t=e.target.closest("#price-to").value;rangeFilter.noUiSlider.set([null,t])}})));const filterReset=document.getElementById("filter-reset");if(filterReset){const e=document.querySelectorAll(".comparison-filter__clean"),t=document.querySelector(".comparison-filter__reset"),r=document.querySelectorAll(".spoiler-filter"),s=document.querySelector(".filter-side__header");for(let r=0;r<e.length;r++){const s=e[r].closest(".comparison-filter__item");t.addEventListener("click",(()=>{s.remove()})),filterReset.addEventListener("click",(()=>{rangeFilter.noUiSlider.set([0,1e5]),s.remove()}))}for(let e=0;e<r.length;e++){const t=r[e],s=t.nextElementSibling;t.addEventListener("click",(()=>{t.classList.toggle("_active"),s.classList.toggle("_show")}))}s.addEventListener("click",(()=>{s.classList.toggle("_active")})),s.click()}const total=document.querySelector("[data-total]");class quantityes{constructor(e){this.quantityes=e,this.input(this.quantityes)}input(e){e.forEach((e=>{const t=e.querySelector("input"),r=Number(t.dataset.max),s=Number(t.dataset.min);this.changeInput(t,e,r,s)}))}changeInput(e,t,r,s){t.addEventListener("click",(a=>{const i=a.target.closest('[data-quantity="arrow-prev"]');if(a.target.closest('[data-quantity="arrow-next"]')){if(e.value>=r)return;++e.value,this.productquantitye(t,e)}if(i){if(e.value==s)return;--e.value,this.productquantitye(t,e)}})),e.addEventListener("input",(a=>{let i=a.target.value.replace(/[^\d]/g,"");a.target.value=i<=s?s:i>r?r:i,this.productquantitye(t,e)}))}productquantitye(e,t){const r=e.parentElement.querySelector("[data-subtotal]");if(r){var s=r.dataset.subtotal.replace(/\s/g,""),a=t.value;this.sumSubTotal(r,s,a)}}sumSubTotal(e,t,r){e.textContent=parseInt(t)*parseInt(r)}}const quantity=document.querySelectorAll("#quantity");quantity&&new quantityes(quantity);const TabItemSelector=".tabs__tab",ContentItemSelector="[data-itemtab]";class TabsManager{constructor(e){this.tabs=[],this.activeTab=null,this.initFromHtml(e),this.activateTab(this.tabs[0])}initFromHtml(e){const t=e.querySelectorAll(".tabs__tab"),r=e.querySelectorAll("[data-itemtab]");for(var s=0;s<t.length;s++)this.registerTab(t[s],r[s])}registerTab(e,t){const r=new TabItem(e,t);r.onActivate((()=>this.activateTab(r))),this.tabs.push(r)}activateTab(e){this.activeTab&&this.activeTab.setActive(!1),this.activeTab=e,this.activeTab.setActive(!0)}}const ActiveTabHeaderClass="_active",ActiveTabContentClass="_show";class TabItem{constructor(e,t){this.header=e,this.content=t}onActivate(e){this.header.addEventListener("click",(()=>e(this)))}setActive(e){this.header.classList.toggle("_active",e),this.content.classList.toggle("_show",e)}}let tabs=document.querySelector("#tabs");tabs&&new TabsManager(tabs);class Form{constructor(e){this.form=e,this.requery(this.form)}requery(e){this.inputReqs=e.querySelectorAll("#req"),this.btn=e.querySelector('button[type="submit"]'),this.submitForm(this.btn,this.inputReqs)}submitForm(e,t){t.forEach((t=>{e.addEventListener("click",(e=>{""===t.value&&(this.addError(t),e.preventDefault())})),t.addEventListener("focus",(()=>{this.removeError(t)}))}))}addError(e){if(!e.classList.contains("_error")){e.classList.add("_error");e.parentElement.insertAdjacentHTML("beforeend",'<div class="error">Заполните поле</div>')}}removeError(e){e.classList.contains("_error")&&(e.classList.remove("_error"),e.nextElementSibling.remove())}}const formMain=document.querySelector("#form");formMain&&new Form(formMain);
//# sourceMappingURL=all.min.js.map
